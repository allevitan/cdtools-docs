Search.setIndex({"docnames": ["datasets", "examples", "general", "index", "indices_tables", "installation", "intro", "latextoc", "models", "tools/analysis", "tools/data", "tools/image_processing", "tools/index", "tools/initializers", "tools/interactions", "tools/losses", "tools/measurements", "tools/plotting", "tools/propagators", "tutorial"], "filenames": ["datasets.rst", "examples.rst", "general.rst", "index.rst", "indices_tables.rst", "installation.rst", "intro.rst", "latextoc.rst", "models.rst", "tools/analysis.rst", "tools/data.rst", "tools/image_processing.rst", "tools/index.rst", "tools/initializers.rst", "tools/interactions.rst", "tools/losses.rst", "tools/measurements.rst", "tools/plotting.rst", "tools/propagators.rst", "tutorial.rst"], "titles": ["Datasets", "Examples", "General Reference", "Introduction to CDTools", "Indices and tables", "Installation", "Introduction to CDTools", "&lt;no title&gt;", "Models", "Analysis", "Data", "Image Processing", "Tools", "Initializers", "Interactions", "Losses", "Measurements", "Plotting", "Propagators", "Tutorial"], "terms": {"thi": [0, 1, 2, 5, 8, 19], "modul": [0, 4, 8, 19], "contain": [0, 1, 2, 5, 8, 19], "all": [0, 1, 2, 5, 8, 19], "interact": [0, 8, 12, 19], "ptychographi": [0, 1, 2, 3, 6, 8, 19], "data": [0, 1, 3, 6, 8, 12, 19], "access": [0, 3, 5, 6, 19], "from": [0, 1, 3, 5, 6, 8], "standard": [0, 19], "cdi": [0, 3, 6, 8, 19], "experi": [0, 2, 8, 19], "i": [0, 1, 2, 3, 5, 6, 8, 19], "coordin": [0, 2, 8, 19], "through": [0, 1, 2, 5, 8, 19], "variou": [0, 1, 2, 8, 19], "defin": [0, 1, 2, 8, 19], "thei": [0, 1, 2, 8, 19], "make": [0, 3, 5, 6, 8, 19], "us": [0, 1, 2, 3, 5, 6, 8, 19], "lower": [0, 1], "level": [0, 3, 5, 6, 8, 19], "read": [0, 1, 2, 3, 6, 8, 19], "write": [0, 2], "function": [0, 1, 2, 3, 6, 8, 19], "tool": [0, 1, 2, 3, 6, 7, 8, 19], "critic": 0, "subclass": [0, 1, 8, 19], "torch": [0, 1, 2, 8, 19], "allow": [0, 1, 5, 8, 19], "them": [0, 1, 3, 6, 8], "dure": [0, 1, 8], "reconstruct": [0, 1, 3, 6, 8], "which": [0, 1, 2, 3, 5, 6, 8, 19], "help": [0, 1, 8, 19], "easi": [0, 2], "handl": [0, 19], "strategi": [0, 8], "ar": [0, 1, 2, 3, 5, 6, 8, 19], "implement": [0, 1, 2, 3, 6, 8, 19], "default": [0, 1, 8, 19], "pytorch": [0, 1, 5, 19], "draw": 0, "random": [0, 1, 19], "order": [0, 19], "minibatch": [0, 1, 8], "etc": [0, 2, 3, 5, 6, 8, 19], "new": [0, 3, 5, 6, 8, 19], "can": [0, 1, 2, 3, 5, 6, 8, 19], "main": [0, 8], "cdataset": [0, 8, 19], "class": [0, 2, 8, 19], "base": [0, 2, 3, 6, 8, 19], "py": [0, 5, 8, 19], "file": [0, 1, 2, 3, 5, 6, 8, 19], "should": [0, 1, 8, 19], "follow": [0, 1, 5, 8, 19], "__init__": [0, 19], "__len__": [0, 19], "_load": [0, 19], "from_cxi": [0, 1, 3, 6, 19], "to_cxi": [0, 19], "inspect": [0, 3, 6, 8], "exampl": [0, 2, 5, 7, 8, 19], "found": [0, 2, 8, 19], "code": [0, 1, 2, 5, 8, 19], "ptycho2ddataset": [0, 1, 3, 6, 19], "In": [0, 1, 2, 8, 19], "addit": [0, 8, 19], "recommend": [0, 1, 2, 5, 8, 19], "tutori": [0, 1, 7, 8], "section": [0, 2, 8, 19], "befor": [0, 1, 2, 5, 8, 19], "attempt": [0, 8, 19], "do": [0, 1, 2, 5, 8, 19], "so": [0, 1, 2, 8, 19], "cdtool": [0, 1, 2, 5, 7, 8, 19], "entry_info": 0, "none": [0, 8], "sample_info": 0, "wavelength": [0, 8, 19], "detector_geometri": [0, 8, 19], "mask": [0, 1, 8, 19], "background": [0, 1, 8, 19], "The": [0, 1, 2, 3, 6, 8], "other": [0, 2, 8, 19], "util": [0, 8, 19], "common": [0, 1, 3, 6], "includ": [0, 1, 2, 3, 5, 6, 19], "load": [0, 1, 3, 6, 8], "storag": [0, 8], "metadata": [0, 19], "portion": 0, "cxi": [0, 1, 3, 6, 19], "well": [0, 1, 2, 5, 19], "need": [0, 1, 3, 6, 8, 19], "mix": [0, 1, 2], "cpu": [0, 8, 19], "gpu": [0, 1, 5, 19], "construct": [0, 3, 6, 19], "python": [0, 1, 3, 5, 6], "object": [0, 1, 2, 3, 6, 8, 19], "dictionari": [0, 1, 8, 19], "have": [0, 1, 2, 5, 8, 19], "entri": [0, 8], "output": [0, 2, 8, 19], "get_detector_geometri": [0, 8], "paramet": [0, 1, 8, 19], "dict": [0, 8], "A": [0, 1, 8, 19], "float": [0, 8], "light": [0, 3, 6], "detector": [0, 1, 8, 19], "geometri": [0, 1, 3, 6, 8, 19], "arrai": [0, 1, 8, 19], "1": [0, 8, 19], "live": [0, 1, 8], "pixel": [0, 1, 19], "0": [0, 1, 5, 8, 19], "dead": 0, "an": [0, 1, 3, 5, 6, 8, 19], "initi": [0, 1, 3, 6, 8, 12], "guess": [0, 1, 19], "previous": [0, 8], "subtract": 0, "index": [0, 4, 8, 19], "intern": [0, 8, 19], "global": [0, 1], "__getitem__": [0, 19], "move": [0, 1, 8, 19], "around": [0, 1, 19], "when": [0, 1, 2, 3, 6, 8, 19], "store": [0, 1, 2, 3, 6, 19], "get": [0, 1, 5, 8, 19], "tensor": [0, 1, 2, 8, 19], "It": [0, 1, 5, 8, 19], "accept": [0, 2, 8], "slice": [0, 19], "return": [0, 1, 2, 8, 19], "tupl": [0, 8, 19], "first": [0, 1, 2, 8, 19], "item": [0, 19], "input": [0, 2, 8, 19], "forward": [0, 1, 3, 6, 8], "model": [0, 1, 2, 3, 6, 7], "relat": [0, 8, 19], "second": [0, 2, 8, 19], "set": [0, 1, 3, 5, 6, 8, 19], "diffract": [0, 1, 3, 6, 8, 19], "pattern": [0, 1, 3, 6, 8, 19], "associ": [0, 19], "sinc": 0, "kind": [0, 19], "retur": 0, "notimpl": 0, "error": [0, 1, 19], "classmethod": [0, 19], "cxi_fil": [0, 19], "gener": [0, 1, 7, 8, 19], "directli": [0, 19], "most": [0, 2, 8, 19], "commonli": [0, 1, 19], "constructor": [0, 19], "thereof": 0, "popul": 0, "inform": [0, 8, 19], "either": [0, 2, 8], "take": [0, 1, 19], "h5py": [0, 5, 19], "filenam": [0, 1, 8, 19], "pathlib": 0, "point": [0, 8, 19], "str": [0, 8], "path": 0, "type": [0, 2, 8, 19], "get_a": [0, 1, 19], "arg": [0, 8, 19], "kwarg": [0, 8, 19], "given": [0, 8, 19], "devic": [0, 1, 8], "dtype": [0, 8, 19], "oftentim": 0, "isn": [0, 19], "t": [0, 1, 5, 8, 19], "room": 0, "entir": [0, 19], "still": [0, 5, 19], "worth": [0, 19], "run": [0, 1, 2, 3, 6, 8, 19], "calcul": [0, 1, 8, 19], "even": [0, 8, 19], "overhead": 0, "incur": 0, "transfer": 0, "back": [0, 19], "forth": [0, 19], "case": [0, 1, 2, 8, 19], "instead": [0, 19], "declar": 0, "whenev": [0, 19], "would": [0, 1, 5, 8, 19], "ani": [0, 1, 2, 5, 8, 19], "same": [0, 1, 8, 19], "prototyp": 0, "open": [0, 8, 19], "show": [0, 1, 3, 6, 8, 19], "natur": [0, 2, 8, 19], "layout": 0, "actual": [0, 1, 2, 19], "rais": [0, 8], "notimplementederror": [0, 8], "send": [0, 5, 19], "relev": [0, 2, 3, 6, 8, 19], "specifi": [0, 1, 8], "save": [0, 1, 2, 3, 6, 8], "out": [0, 1, 2, 3, 6, 8, 19], "compat": 0, "modifi": [0, 1, 8], "simul": [0, 1, 3, 6, 8, 19], "polarizationsweptptycho2ddataset": 0, "translat": [0, 2, 8, 19], "polarization_indic": 0, "polarization_st": [0, 8], "2d": [0, 19], "scan": [0, 1, 8, 19], "program": [0, 19], "although": 0, "onli": [0, 1, 2, 8, 19], "test": 0, "against": [0, 8], "sharp": [0, 19], "note": [0, 1, 2, 5, 8], "creat": [0, 1, 8, 19], "copi": [0, 5], "avoid": 0, "doubl": [0, 8, 19], "memori": [0, 1, 8], "requiement": 0, "larg": [0, 19], "nx3": 0, "probe": [0, 1, 2, 3, 6, 8, 19], "each": [0, 1, 8, 19], "nxmxl": 0, "full": [0, 1, 2, 5, 8, 19], "stack": 0, "measur": [0, 1, 3, 6, 8, 12, 19], "int": [0, 8], "length": [0, 2, 8], "n": [0, 19], "polar": [0, 8], "state": [0, 1, 8, 19], "attach": [0, 19], "mx2": 0, "where": [0, 1, 2, 8, 19], "m": 0, "number": [0, 1, 8, 19], "indic": [0, 7, 8, 19], "encod": 0, "polarz": 0, "ax": [0, 19], "list": [0, 1, 8, 19], "name": [0, 8], "intens": [0, 1, 8, 19], "shot": 0, "format": [0, 1, 2, 8, 19], "ptychogaphi": 0, "record": 0, "posit": [0, 1, 19], "those": [0, 19], "angl": 0, "true": [0, 1, 8, 19], "fals": [0, 1, 8, 19], "phi1": 0, "phi2": 0, "ind": 0, "1st": 0, "2nd": 0, "transl": 0, "cut_zero": 0, "bool": [0, 8], "whether": [0, 8, 19], "neg": 0, "zero": [0, 1], "load_pattern": 0, "logarithm": [0, 8], "unit": [0, 1, 5, 8], "um": [0, 1, 8], "log_offset": 0, "launch": 0, "plot": [0, 1, 8, 12], "perus": [0, 19], "matplotlib": [0, 1, 3, 5, 6, 8, 19], "spatial": 0, "map": [0, 2, 8, 19], "integr": [0, 1, 8, 19], "left": [0, 1, 19], "next": [0, 1, 19], "panel": 0, "right": [0, 1, 19], "displai": [0, 8], "10": [0, 1, 3, 6, 8], "log": 0, "readout": 0, "split": 0, "two": [0, 1, 8, 19], "pseudorandomli": [0, 1], "select": [0, 1], "sub": 0, "repositori": [1, 5], "script": 1, "demonstr": [1, 19], "how": [1, 3, 6, 8, 19], "aspect": 1, "work": [1, 2, 5, 8, 19], "least": [1, 8], "few": [1, 2, 19], "continu": 1, "feel": 19, "we": [1, 2, 5, 8, 19], "some": [1, 2, 8, 19], "look": [1, 3, 6, 19], "confirm": [], "like": [1, 8, 19], "you": [2, 3, 5, 6, 8, 19], "expect": [8, 19], "hasn": [], "been": [1, 19], "corrupt": [], "your": [5, 8, 19], "": [1, 5, 8, 19], "compliant": 2, "import": [1, 2, 3, 6, 19], "pyplot": [1, 3, 6, 8, 19], "plt": [1, 3, 6, 19], "example_data": [1, 19], "auballs_700ms_30nmstep_3_6ss_filt": 1, "And": [1, 3, 6, 19], "unsurprisingli": [], "call": [1, 8, 19], "overview": 1, "nanomap": 19, "imag": [1, 12], "simpleptycho": [1, 8, 19], "straightforward": 19, "transmiss": [], "refin": 1, "incoher": 1, "mode": [1, 5, 8], "doodad": [], "complex_adam": [], "myadam": [], "torchdata": [], "time": [1, 8, 19], "lab_ptycho_data": [1, 19], "cat": [], "5": [1, 5], "from_dataset": [1, 3, 6, 19], "print": [1, 3, 6, 19], "exit": [8, 19], "mydataparallel": [], "nn": [0, 8, 19], "dataparallel": [], "def": 19, "__getattr__": [], "self": [8, 19], "getattr": [], "device_id": [], "2": [0, 1, 8, 19], "3": [1, 8], "dataload": 8, "data_load": 8, "batch_siz": [1, 8], "20": 1, "shuffl": [], "cuda": [1, 8, 19], "optim": [1, 8, 19], "lr": [1, 8], "01": 8, "normal": [1, 8], "sum": 8, "numpi": [1, 5, 8, 19], "rang": 19, "loss": [1, 3, 6, 8, 12, 19], "t0": [], "inp": [], "x": [], "pat": [], "closur": [], "zero_grad": [], "sim_pattern": [], "hasattr": [], "els": [], "backward": [], "detach": 19, "step": [1, 19], "save_result": [1, 8, 19], "kei": 19, "final": [1, 8, 19], "result": [1, 2, 3, 6, 8, 19], "compar": [1, 3, 6, 8, 19], "becaus": [1, 2, 5, 8, 19], "ten": [], "iter": [8, 19], "qualiti": [], "rel": [], "poor": [], "howev": [2, 8, 19], "particular": [1, 19], "75": [], "lead": 19, "surprisingli": [], "good": [1, 8, 19], "On": 1, "often": [1, 8, 19], "fail": [1, 5], "converg": 19, "littl": 19, "basic": [1, 3, 6, 8], "workflow": 1, "after": [1, 5, 8, 19], "match": [1, 2, 8, 19], "progress": [1, 2, 19], "report": [1, 2, 3, 6, 8, 19], "finish": 19, "fancyptycho": [1, 3, 6, 8, 19], "perform": [1, 19], "classic": 1, "workhors": [1, 8], "ptychograph": [], "ha": [1, 5, 8, 19], "option": [0, 5, 8, 19], "enabl": 8, "correct": [1, 19], "varieti": [], "potenti": [], "sourc": [1, 5], "scipi": [5, 19], "io": 19, "explicitli": [8, 19], "ask": 19, "n_mode": 1, "let": 19, "shall": [], "save_on_exit": 8, "example_reconstruct": [1, 19], "gold_bal": 1, "h5": [1, 3, 6, 8, 19], "now": [1, 19], "short": [], "adam_optim": [1, 3, 6, 8, 19], "50": [1, 19], "liveplot": 1, "updat": [1, 5, 8, 19], "happen": [1, 8], "orthogon": 1, "tidy_prob": [1, 8], "thing": [5, 19], "chang": [5, 19], "about": [1, 8, 19], "differ": [1, 8, 19], "anytim": [], "soon": 1, "within": 19, "loop": [1, 19], "fact": [], "could": 19, "put": 19, "want": [8, 19], "here": [1, 8, 19], "execut": [8, 19], "epoch": [1, 8, 19], "pickl": 19, "produc": 2, "were": 8, "There": [2, 8, 19], "go": 19, "behind": [], "scene": [], "just": [5, 8, 19], "decid": [], "also": [1, 5, 8, 19], "anneal": [], "instabl": 1, "flux": [], "might": 1, "occur": 8, "more": [1, 2, 3, 6, 19], "involv": [], "seriou": [], "collect": [3, 6, 19], "csx": [], "beamlin": [], "nsl": [], "ii": [], "2016": [], "target": [], "said": [], "defocus": [], "zone": [], "plate": [], "too": 19, "distribut": [], "via": [1, 19], "github": 5, "pleas": [2, 19], "contact": 5, "ab": [5, 19], "levitan": 5, "alevitan": [], "79511_p": [], "edg": [0, 1, 19], "off": [0, 1, 8, 19], "anywai": [], "easili": [5, 19], "remov": [], "leav": [], "70": [], "definit": [1, 2, 19], "lot": [], "tweak": 19, "describ": 19, "below": [5, 8, 19], "randomize_ang": [], "phase": [1, 19], "nois": 1, "extent": 8, "translations_scal": [], "aggress": 1, "propagation_dist": 1, "distanc": [8, 19], "propag": [1, 3, 5, 6, 8, 12, 19], "style": [], "focal": [], "spot": [], "valu": [0, 8, 19], "come": 19, "knowledg": [], "experiment": [], "translation_scal": 8, "4": [0, 8], "73e": [], "6": 1, "turn": [1, 8, 19], "translation_offset": [1, 8, 19], "requires_grad": [1, 19], "15": 8, "third": 8, "rate": [1, 8, 19], "further": 8, "0005": [], "pop": 19, "u": [], "choic": [2, 19], "part": 19, "noisi": [], "simpli": [1, 8, 19], "edit": [], "care": 19, "crop": 2, "being": [8, 19], "taken": [], "advantag": [], "introduc": 1, "small": [1, 19], "mild": [], "wherea": [], "abov": [2, 19], "agress": [], "tell": 19, "far": 19, "naiv": [], "wa": 8, "veri": [1, 8, 19], "difficult": [], "quit": [1, 19], "optic": 19, "start": [1, 8, 19], "alreadi": 19, "known": [], "plai": [], "bit": 1, "procedur": [], "respons": 19, "exist": [5, 8], "three": [1, 19], "round": [8, 19], "serial": [], "chosen": [1, 19], "batch": [1, 8], "size": [0, 1, 8, 19], "improv": [1, 19], "smaller": [], "learn": [1, 8, 19], "sensibl": [1, 19], "005": [1, 8], "reflect": [], "np": [1, 2, 19], "media": [], "bank": [], "csx_10_18": [], "processed_cxi": [], "110531_p": [], "scattering_mod": [], "overrid": 19, "sampl": 19, "pi": [], "enumer": 19, "100": [1, 19], "while": [2, 8, 19], "itself": 19, "seed": [], "span": [], "angular": [], "rather": [2, 5, 19], "than": [1, 2, 5, 19], "constant": [], "orient": [], "know": [1, 19], "parallel": [], "scatter": 1, "vector": 2, "outgo": [], "rai": [], "intersect": [], "perpendicular": [], "incom": 1, "along": [0, 19], "z": [], "direct": [], "specif": [1, 2, 8, 19], "transmis": [], "assum": 2, "surfac": 19, "If": [0, 1, 3, 5, 6, 8], "unset": [], "One": 19, "check": [], "multipl": 8, "independ": 1, "understand": [2, 19], "what": [8, 19], "solut": [], "25": [], "idx": [], "30": [], "end": [8, 19], "r": 19, "summari": [], "won": [], "overwritten": [], "line": [1, 19], "add": 19, "append": [], "convert": 8, "safe": [], "element": 8, "e": [1, 5, 8], "g": 8, "shape": 19, "savemat": 19, "gold_balls_ensembl": [], "mat": 8, "essenti": [], "ad": 19, "importantli": 19, "loadmat": [], "synthes": [], "averag": [8, 19], "synth_prob": [], "synth_obj": [], "aligned_obj": [], "synthesize_reconstruct": [], "obj": 19, "consist": 19, "prtf": [], "freq": [], "calc_consistency_prtf": [], "basi": [1, 2, 8, 19], "detail": [2, 5, 19], "plot_phas": [1, 19], "plot_amplitud": [1, 19], "plot_color": [], "color": [], "version": [0, 5, 19], "subdomin": [], "figur": [1, 8, 19], "1e": 1, "xlabel": 1, "frequenc": 1, "cycl": 1, "ylabel": 1, "manipul": [], "regular": 8, "glean": [], "account": 0, "ambigu": [], "ramp": 1, "offset": [1, 19], "singl": 19, "onc": [1, 8, 19], "power": [], "between": [2, 8, 19], "individu": 19, "analogi": [], "retriev": 8, "curv": [], "analog": [], "document": [1, 2, 5], "issu": [2, 19], "cut": 2, "across": [2, 19], "enough": [2, 3, 6, 19], "one": [2, 8, 19], "place": [2, 8, 19], "packag": [2, 5, 19], "page": [2, 4, 5], "dive": 2, "By": [1, 2, 8, 19], "necess": 2, "oper": [2, 3, 6, 8], "mixtur": 2, "unfortun": 2, "suck": 2, "certain": [2, 8, 19], "design": 2, "mostli": 2, "analysi": [1, 2, 12], "possibl": [1, 2, 8, 19], "mani": [1, 2, 8, 19], "ndarrai": 2, "behavior": [2, 8], "heavili": 2, "discourag": 2, "adher": 2, "mai": [2, 8], "find": [1, 2, 19], "improperli": 2, "bug": [2, 5], "physic": 2, "everywher": 2, "si": 2, "except": [1, 2, 5, 8], "everi": [1, 2, 19], "meter": 2, "energi": 2, "joul": 2, "provid": [2, 8, 19], "interoper": 2, "sever": [1, 2, 5], "intent": 2, "dataset": [2, 3, 6, 7, 8], "spec": 2, "over": [1, 2, 8, 19], "close": [2, 19], "onto": [2, 19], "wai": [2, 8, 19], "multipli": [1, 2], "thu": [2, 19], "invert": 2, "again": [2, 19], "written": [2, 19], "transpos": 2, "mean": [2, 19], "column": 2, "system": [2, 19], "nonstandard": 2, "appropri": [2, 8], "built": [2, 3, 6, 19], "librari": [3, 6, 19], "automat": [1, 3, 6, 8, 19], "differenti": [3, 6, 8, 19], "approach": [3, 6, 19], "ptycho_data": [3, 6], "save_to_h5": [1, 3, 6, 8], "ptycho_result": [3, 6], "see": [1, 3, 6, 8, 19], "simpl": [3, 6, 8, 19], "box": [3, 6, 19], "For": [1, 3, 6, 19], "advanc": [3, 6], "user": [3, 6, 19], "beus": [3, 6], "high": [1, 3, 6], "interfac": [3, 6], "oflow": [3, 6], "These": [1, 3, 6], "visual": [1, 3, 6, 19], "coher": [3, 6, 19], "alongsid": [3, 6], "blabber": [3, 6], "re": [3, 6, 19], "interest": [3, 6], "doc": [3, 6], "search": 4, "host": [5, 8], "mit": 5, "grant": 5, "member": 5, "commun": 5, "arrang": 5, "privat": 5, "track": 5, "clone": [5, 19], "content": 5, "remain": 5, "under": [5, 8], "activ": 5, "develop": [1, 5, 19], "fix": [5, 8, 19], "requir": [1, 5, 8, 19], "7": [1, 5], "greater": 5, "major": [5, 19], "9": [1, 5, 8], "vari": 5, "platform": 5, "avail": 5, "instruct": 5, "site": 5, "manag": [5, 8], "environ": 5, "conda": 5, "command": 5, "top": [0, 5, 8, 19], "directori": 5, "txt": 5, "c": 5, "forg": 5, "dateutil": 5, "pytest": 5, "pooch": 5, "sphinx": 5, "argpars": 5, "sphinx_rtd_them": 5, "example_environ": 5, "yml": 5, "properli": 5, "linux": 5, "machin": 5, "circa": 5, "earli": 5, "2024": [5, 19], "To": [1, 5, 19], "setup": [5, 19], "pip": 5, "dep": 5, "moment": [5, 8, 19], "prefer": [1, 5], "without": [1, 5, 8, 19], "reinstal": 5, "ensur": 5, "correctli": 5, "sure": [5, 19], "aren": [5, 19], "me": [1, 5], "email": 5, "ll": [5, 19], "bottom": [0, 5], "introduct": 7, "instal": [1, 7], "refer": [7, 19], "tabl": 7, "core": [8, 19], "structur": [1, 8], "Their": 8, "central": 8, "usual": [1, 8, 19], "correspond": 8, "heart": 8, "cdimodel": [8, 19], "bragg2dptycho": 8, "obj_basi": [1, 8], "probe_guess": [8, 19], "obj_guess": [8, 19], "min_transl": [8, 19], "probe_basi": [8, 19], "median_propag": 8, "weight": [1, 8], "satur": 8, "probe_support": 8, "oversampl": [1, 8, 19], "propagate_prob": 8, "correct_tilt": 8, "len": [8, 19], "float32": [8, 19], "share": 8, "both": [1, 8, 19], "scriptmodul": 8, "conveni": [8, 19], "reason": [8, 19], "though": 8, "thin": 8, "wrapper": 8, "state_dict": 8, "method": [8, 19], "nice": [8, 19], "recogn": 8, "role": 8, "extract": [8, 19], "process": [8, 12, 19], "long": 8, "term": 8, "done": [0, 1, 8, 19], "doe": [1, 8, 19], "convers": [8, 19], "buffer": 8, "must": 8, "expos": 8, "valid": 8, "explocitli": 8, "intro": 8, "boil": 8, "down": 8, "ad_optim": 8, "schedul": [1, 8], "regularization_factor": 8, "thread": 8, "calculation_width": 8, "algorithm": [8, 19], "yield": [1, 8], "comput": 8, "separ": [8, 19], "freez": 8, "keyword": [1, 8], "argument": [1, 8, 19], "loader": 8, "lr_schedul": 8, "_lrschedul": 8, "pass": [1, 8, 19], "gradient": [8, 19], "accumul": 8, "affect": 8, "speed": [8, 19], "latest": 8, "divid": [1, 8], "total": 8, "amsgrad": 8, "subset": [1, 8], "adam": [1, 8, 19], "robust": 8, "routin": [8, 19], "alpha": [1, 8], "05": 8, "typic": [8, 19], "highest": 8, "chanc": 8, "stabl": 8, "reducelronplateau": 8, "lbfgs_optim": 8, "history_s": 8, "line_search_fn": 8, "l": 8, "bfg": 8, "less": 8, "situat": [1, 8, 19], "shockingli": 8, "effici": 8, "bad": 8, "idea": 8, "lbfg": 8, "anyth": 8, "onec": 8, "histori": 8, "ue": 8, "sgd_optim": 8, "momentum": 8, "dampen": 8, "weight_decai": 8, "nesterov": 8, "sgd": 8, "simpler": [1, 8], "gradienc": 8, "descent": [8, 19], "sai": 8, "tin": 8, "am": 8, "sorri": 8, "possess": 8, "beezlebub": 8, "try": [1, 8, 19], "break": 8, "kill": 8, "scratch": 8, "scale": [8, 19], "complet": [8, 19], "reli": [8, 19], "compos": 8, "therefor": [1, 8, 19], "redefin": 8, "regist": 8, "pull": [8, 19], "plot_list": [8, 19], "attribut": 8, "redraw": 8, "otherwis": 8, "subsequ": 8, "incorpor": 8, "comparison": 8, "titl": [8, 19], "function_to_generate_plot": 8, "function_to_determine_whether_to_plot": 8, "ones": [8, 19], "string": 8, "info": 8, "save_figur": 8, "prefix": 8, "extens": [8, 19], "pdf": 8, "current": [1, 8, 19], "intellig": 8, "scroll": 8, "whichev": 8, "treat": 8, "suport": 8, "savefig": 8, "prepend": 8, "ep": 8, "save_on_except": [1, 8], "wrap": 8, "bodi": 8, "context": 8, "thrown": [1, 8], "later": [1, 8, 19], "exception_filenam": 8, "upon": 8, "equal": 8, "store_detector_geometri": 8, "properti": [8, 19], "effect": [0, 8], "datatyp": [8, 19], "surface_norm": 8, "fourier_prob": 8, "amplitud": [8, 19], "mse": 8, "simulate_probe_transl": 8, "simulate_finite_pixel": 8, "obj_view_crop": [1, 8], "center_prob": 8, "center": 8, "compens": 8, "adjust": [1, 8], "reset": [1, 8], "tidi": 8, "up": [8, 19], "densiti": 8, "matric": 8, "multislice2dptycho": 8, "dz": 8, "nz": 8, "detector_slic": 8, "bandlimit": 8, "subpixel": [8, 19], "exponentiate_obj": 8, "prevent_alias": 8, "phase_onli": 8, "cast": 8, "non_block": 8, "memory_format": 8, "channels_last": 8, "Its": 8, "signatur": 8, "similar": 8, "complex": 8, "unchang": 8, "tri": 8, "asynchron": 8, "respect": [8, 19], "pin": 8, "desir": 8, "whose": 8, "4d": 8, "xdoctest": 8, "ignore_w": 8, "non": 8, "determinist": [1, 8], "linear": 8, "1913": 8, "3420": 8, "5113": 8, "2325": 8, "in_featur": 8, "out_featur": 8, "bia": 8, "float64": 8, "env": 8, "torch_doctest_cuda1": 8, "gpu1": 8, "half": [1, 8], "1914": 8, "5112": 8, "2324": 8, "float16": 8, "cdoubl": 8, "3741": 8, "j": 8, "2382": 8, "5593": 8, "4443": 8, "complex128": 8, "6122": 8, "1150": 8, "polarizationsweptptycho": 8, "polarizedfancyptycho": 8, "analyz": 8, "polarizer_offset": 8, "analyzer_offset": 8, "polarizer_scal": 8, "analyzer_scal": 8, "rpi": 8, "obj_support": 8, "weight_matrix": 8, "full_obj": 8, "explor": [8, 19], "timeresolvedptychocalibr": 8, "fourier_tim": 8, "probe_fourier_support": 8, "time_depend": 8, "frame_delai": 8, "timeresolvedrpi": 8, "framer": 8, "build": 19, "extend": 19, "cover": 19, "discuss": 19, "our": [1, 19], "benchtop": 19, "playground": 19, "mirror": 19, "encourag": 19, "everyon": 19, "perman": 19, "custom": [1, 19], "fill": [0, 19], "boilerpl": 19, "alwai": 19, "panda": 19, "give": 19, "window": [1, 19], "side": [0, 19], "click": [1, 19], "everyth": 19, "ahead": 19, "comment": 19, "special": 19, "exactli": 19, "catch": 19, "arbitrari": 19, "reconstructionalgorithm": 19, "paus": 19, "snippet": 19, "perspect": 19, "anywher": 19, "comfort": 19, "comprehens": 19, "pretti": 19, "seem": 19, "larger": [1, 19], "stage": 19, "increas": [0, 19], "ratio": [1, 19], "caus": [1, 19], "honestli": 19, "secondli": 19, "don": 19, "accur": 19, "stop": 19, "field": [1, 19], "view": [1, 19], "corner": 19, "nucleat": 19, "extra": 19, "support": [1, 19], "declat": 19, "probe_support_radiu": [1, 19], "90": 19, "count": 19, "form": 19, "lab_ptycho": 19, "manual": 19, "bare": [1, 19], "bone": [1, 19], "At": 19, "basic_ptycho_dataset": 19, "consult": 19, "layer": 19, "fit": 19, "entireti": 19, "mydata": 19, "syntax": 19, "task": 19, "act": 19, "piec": 19, "puzzl": 19, "extrem": 19, "valuabl": 19, "offer": 19, "highli": 19, "__all__": 19, "practic": [1, 19], "inherit": 19, "cdtdata": 19, "basicptychodataset": 19, "leverag": 19, "id": 19, "super": 19, "Of": 19, "cours": 19, "uniqu": 19, "plug": 19, "consid": 19, "As": 19, "applic": 19, "compromis": 19, "rememb": 19, "worri": 19, "__getitem": 19, "superclass": 19, "preload": 19, "space": [1, 19], "Then": 19, "factori": [1, 19], "cl": 19, "mutat": 19, "__class__": 19, "get_data": 19, "get_ptycho_transl": 19, "fairli": 19, "explanatori": 19, "add_data": 19, "add_ptycho_transl": 19, "repres": 19, "intend": 19, "regularli": 19, "abl": 19, "raw": [1, 19], "incalcul": 19, "satisfi": 19, "ourselv": 19, "randint": 19, "imshow": 19, "minimum": 19, "neccessari": 19, "doesn": 19, "That": 19, "inspector": 19, "abil": 19, "simple_ptycho_model": 19, "ye": 19, "word": 19, "conform": 19, "usag": 19, "world": 19, "necessarili": 19, "cleanest": 19, "portabl": 19, "ve": 19, "toolbox": 19, "themselv": 19, "real": [1, 19], "meat": 19, "deriv": 19, "forward_propag": 19, "fulli": [1, 19], "conceptu": 19, "beyond": 19, "automt": 19, "shown": [1, 19], "low": 19, "transpar": 19, "rescal": 19, "probe_norm": 19, "max": 19, "complex64": 19, "chose": 19, "matrix": 19, "But": 19, "flag": 19, "variabl": 19, "keep": 19, "hack": 19, "unti": 19, "group": 19, "best": 19, "behav": 19, "earlier": 19, "det_basi": 19, "det_shap": 19, "ewg": 19, "exit_wave_geometri": 19, "probe_shap": 19, "det_slic": 19, "pix_transl": 19, "translations_to_pixel": 19, "obj_siz": 19, "calc_object_setup": 19, "sharp_style_prob": 19, "geometr": 19, "big": 19, "readi": 19, "wave": 19, "pix_tran": 19, "ptycho_2d_round": 19, "shelf": 19, "nearest": 19, "whole": 19, "amount": [0, 19], "choos": 19, "chain": [1, 19], "wavefield": 19, "far_field": 19, "sim_data": 19, "real_data": 19, "amplitude_ms": 19, "minim": 19, "squar": 19, "broadli": 19, "did": 19, "lambda": 19, "fig": 19, "made": [1, 19], "board": 19, "backend": 19, "f": [1, 19], "happi": 19, "quick": 1, "statu": 1, "beta": [1, 8], "999": [1, 8], "defaulti": 8, "beta_1": 8, "beta_2": 8, "locat": 1, "navig": 1, "purpos": 1, "pedagog": 1, "simplic": 1, "much": 1, "understood": 1, "subtl": 1, "told": 1, "suffici": 1, "pre": 1, "speedup": 1, "empir": 1, "monitor": 1, "studi": 1, "dataet": 1, "featur": 1, "2xlarger": 1, "120": 1, "forc": 1, "outsid": 1, "radiu": 1, "pix": 1, "5e": 1, "mm": 1, "strength": [], "02": 1, "expens": 1, "tenth": 1, "polish": 1, "mixin": 1, "vein": 1, "http": [], "doi": 1, "org": [], "1038": 1, "nature11806": 1, "expand": 1, "factor": 1, "2x2": 1, "upsampl": 1, "grid": 1, "fourier": 1, "1103": 1, "physreva": 1, "87": 1, "053850": 1, "circular": 1, "finit": 1, "constraint": 1, "appli": 1, "its": 1, "focu": 1, "errror": 1, "frame": 1, "variat": 1, "runnabl": 1, "realist": 1, "pad": [0, 1], "to_pad": 0, "spefici": 0, "scenario": 0, "strong": 0, "discret": 0, "alia": 0, "outer": 0, "region": [0, 1], "integ": 0, "convent": 0, "recov": 1, "prevent": 1, "alias": 1, "signal": 1, "present": 1, "transform": 1, "becom": 1, "unstabl": 1, "combat": 1, "resolut": 1, "probe_fourier_crop": 1, "2e": 1, "trick": 1, "my": 1, "grandmoth": 1, "taught": 1, "raster": 1, "pathologi": 1, "randomz": 1, "randn_lik": 1, "intermedi": 1, "gold_balls_earlyexit": 1, "002": 1, "001": 1, "disjoint": 1, "primarili": 1, "estim": 1, "ring": 1, "correl": 1, "frc": 1, "gold_balls_half": [], "1364": 1, "oe": 1, "397421": 1, "hopefulli": 1, "Not": 1, "pure": 1, "counteract": 1, "partit": 1, "drawn": 1, "dataset_1": 1, "dataset_2": 1, "label": 1, "half_1": 1, "half_2": 1, "zip": 1, "gold_balls_": 1, "halv": 1, "metric": 1, "p": 1, "h5_to_nested_dict": 1, "gold_balls_half_1": 1, "gold_balls_half_2": 1, "gold_balls_ful": 1, "260": 1, "s_": 1, "bring": 1, "shift": 1, "spectral": 1, "standardize_reconstruction_set": 1, "nbin": 1, "40": 1, "bin": 1, "obj_half_1": 1, "obj_half_2": 1, "obj_ful": 1, "frc_freq": 1, "frc_threshold": 1, "k": 1, "legend": 1, "threshold": 1, "semilogi": 1, "ssnr": 1, "warn": 19, "THE": 19, "OF": 19, "date": 19, "trustworthi": 19, "februari": 19}, "objects": {"cdtools": [[0, 0, 0, "-", "datasets"], [8, 0, 0, "-", "models"]], "cdtools.datasets": [[0, 1, 1, "", "CDataset"], [0, 1, 1, "", "PolarizationSweptPtycho2DDataset"], [0, 1, 1, "", "Ptycho2DDataset"]], "cdtools.datasets.CDataset": [[0, 2, 1, "", "_load"], [0, 2, 1, "", "from_cxi"], [0, 2, 1, "", "get_as"], [0, 2, 1, "", "inspect"], [0, 2, 1, "", "to"], [0, 2, 1, "", "to_cxi"]], "cdtools.datasets.PolarizationSweptPtycho2DDataset": [[0, 2, 1, "", "_load"], [0, 2, 1, "", "from_cxi"], [0, 2, 1, "", "to"], [0, 2, 1, "", "to_cxi"]], "cdtools.datasets.Ptycho2DDataset": [[0, 2, 1, "", "_load"], [0, 2, 1, "", "from_cxi"], [0, 2, 1, "", "inspect"], [0, 2, 1, "", "pad"], [0, 2, 1, "", "split"], [0, 2, 1, "", "to"], [0, 2, 1, "", "to_cxi"]], "cdtools.models": [[8, 1, 1, "", "Bragg2DPtycho"], [8, 1, 1, "", "CDIModel"], [8, 1, 1, "", "FancyPtycho"], [8, 1, 1, "", "Multislice2DPtycho"], [8, 1, 1, "", "PolarizationSweptPtycho"], [8, 1, 1, "", "PolarizedFancyPtycho"], [8, 1, 1, "", "RPI"], [8, 1, 1, "", "SimplePtycho"], [8, 1, 1, "", "TimeResolvedPtychoCalibration"], [8, 1, 1, "", "TimeResolvedRPI"]], "cdtools.models.Bragg2DPtycho": [[8, 2, 1, "", "save_results"]], "cdtools.models.CDIModel": [[8, 2, 1, "", "AD_optimize"], [8, 2, 1, "", "Adam_optimize"], [8, 2, 1, "", "LBFGS_optimize"], [8, 2, 1, "", "SGD_optimize"], [8, 2, 1, "", "compare"], [8, 2, 1, "", "forward"], [8, 2, 1, "", "get_detector_geometry"], [8, 2, 1, "", "inspect"], [8, 2, 1, "", "report"], [8, 2, 1, "", "save_figures"], [8, 2, 1, "", "save_on_exception"], [8, 2, 1, "", "save_on_exit"], [8, 2, 1, "", "save_results"], [8, 2, 1, "", "save_to_h5"], [8, 2, 1, "", "store_detector_geometry"]], "cdtools.models.FancyPtycho": [[8, 2, 1, "", "center_probes"], [8, 2, 1, "", "save_results"], [8, 2, 1, "", "tidy_probes"]], "cdtools.models.Multislice2DPtycho": [[8, 2, 1, "", "save_results"], [8, 2, 1, "", "tidy_probes"], [8, 2, 1, "", "to"]], "cdtools.models.PolarizationSweptPtycho": [[8, 2, 1, "", "save_results"], [8, 2, 1, "", "tidy_probes"]], "cdtools.models.PolarizedFancyPtycho": [[8, 2, 1, "", "save_results"], [8, 2, 1, "", "tidy_probes"], [8, 2, 1, "", "to"]], "cdtools.models.RPI": [[8, 2, 1, "", "save_results"], [8, 2, 1, "", "to"]], "cdtools.models.TimeResolvedPtychoCalibration": [[8, 2, 1, "", "save_results"], [8, 2, 1, "", "to"]], "cdtools.models.TimeResolvedRPI": [[8, 2, 1, "", "save_results"], [8, 2, 1, "", "to"]], "cdtools.tools": [[9, 0, 0, "-", "analysis"], [10, 0, 0, "-", "data"], [11, 0, 0, "-", "image_processing"], [13, 0, 0, "-", "initializers"], [14, 0, 0, "-", "interactions"], [15, 0, 0, "-", "losses"], [16, 0, 0, "-", "measurements"], [17, 0, 0, "-", "plotting"], [18, 0, 0, "-", "propagators"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"]}, "titleterms": {"dataset": [0, 1, 19], "exampl": 1, "inspect": [1, 19], "simpl": 1, "ptycho": 1, "gold": 1, "ball": 1, "mit": [], "bnl": [], "logo": [], "specular": [], "ensembl": [], "reconstruct": 19, "analysi": 9, "gener": 2, "refer": 2, "arrai": 2, "numpi": 2, "pytorch": 2, "unit": 2, "convent": 2, "deviat": 2, "from": [2, 19], "cxi": 2, "introduct": [3, 6], "cdtool": [3, 6], "indic": 4, "tabl": 4, "instal": 5, "step": 5, "1": 5, "download": 5, "2": 5, "depend": 5, "3": 5, "4": 5, "run": 5, "The": [5, 19], "test": [5, 19], "model": [8, 19], "data": 10, "imag": 11, "process": 11, "tool": 12, "initi": [13, 19], "interact": 14, "loss": 15, "measur": 16, "plot": [17, 19], "propag": 18, "tutori": 19, "script": 19, "basic": 19, "idea": 19, "write": 19, "skeleton": 19, "interfac": 19, "load": 19, "save": 19, "note": 19, "python": 19, "forward": 19, "devic": 19, "manag": 19, "fanci": 1, "split": 1, "transmiss": 1, "rpi": 1, "synthes": 1}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx": 60}, "alltitles": {"Datasets": [[0, "module-cdtools.datasets"], [19, "datasets"]], "General Reference": [[2, "general-reference"]], "Arrays, Numpy, and Pytorch": [[2, "arrays-numpy-and-pytorch"]], "Unit Conventions": [[2, "unit-conventions"]], "Deviations from CXI Conventions": [[2, "deviations-from-cxi-conventions"]], "Introduction to CDTools": [[3, "introduction-to-cdtools"], [6, "introduction-to-cdtools"]], "Indices and tables": [[4, "indices-and-tables"]], "Installation": [[5, "installation"]], "Step 1: Download": [[5, "step-1-download"]], "Step 2: Install Dependencies": [[5, "step-2-install-dependencies"]], "Step 3: Install": [[5, "step-3-install"]], "Step 4: Run The Tests": [[5, "step-4-run-the-tests"]], "Models": [[8, "module-cdtools.models"], [19, "models"]], "Analysis": [[9, "module-cdtools.tools.analysis"]], "Data": [[10, "module-cdtools.tools.data"]], "Image Processing": [[11, "module-cdtools.tools.image_processing"]], "Tools": [[12, "tools"]], "Initializers": [[13, "module-cdtools.tools.initializers"]], "Interactions": [[14, "module-cdtools.tools.interactions"]], "Losses": [[15, "module-cdtools.tools.losses"]], "Measurements": [[16, "module-cdtools.tools.measurements"]], "Plotting": [[17, "module-cdtools.tools.plotting"], [19, "plotting"]], "Propagators": [[18, "module-cdtools.tools.propagators"]], "Examples": [[1, "examples"]], "Inspect Dataset": [[1, "inspect-dataset"]], "Simple Ptycho": [[1, "simple-ptycho"]], "Fancy Ptycho": [[1, "fancy-ptycho"]], "Gold Ball Ptycho": [[1, "gold-ball-ptycho"]], "Gold Ball Split": [[1, "gold-ball-split"]], "Gold Ball Synthesize": [[1, "gold-ball-synthesize"]], "Transmission RPI": [[1, "transmission-rpi"]], "Tutorial": [[19, "tutorial"]], "Reconstruction Scripts": [[19, "reconstruction-scripts"]], "Basic Idea": [[19, "basic-idea"], [19, "id1"]], "Writing the Skeleton": [[19, "writing-the-skeleton"], [19, "id2"]], "Initialization": [[19, "initialization"]], "Dataset Interface": [[19, "dataset-interface"]], "Loading and Saving": [[19, "loading-and-saving"]], "Inspecting": [[19, "inspecting"]], "Notes": [[19, "notes"]], "Initialization from Python": [[19, "initialization-from-python"]], "Initialization from Dataset": [[19, "initialization-from-dataset"]], "The Forward Model": [[19, "the-forward-model"]], "Device Management": [[19, "device-management"]], "Saving": [[19, "saving"]], "Testing": [[19, "testing"]]}, "indexentries": {}})